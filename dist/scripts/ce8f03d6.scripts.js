"use strict";angular.module("marvelApp",["ngRoute","ngAnimate","app.services","app.controllers"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainController"}).when("/about",{templateUrl:"views/about.html"}).otherwise({redirectTo:"/"})}]),angular.module("app.controllers",[]).controller("HeaderController",["$scope","$location",function(a,b){a.isActive=function(a){return a===b.path()}}]).controller("MainController",["$scope","MarvelAPI","_",function(a,b,c){a.formData={},a.processForm=function(){a.characters=[],b.getChar(a.formData.name).then(function(b){b&&(c.each(b.characters,function(b){var c=[];c.name=b.name,c.url=b.urls[1]?b.urls[1].url:b.urls[0].url,c.image=b.thumbnail.path+"."+b.thumbnail.extension,c.description=""===b.description?"No description listed for this character.":c.description=b.description,a.characters.push(c)}),a.searchChar="success")},function(b){a.errorMsg=b.message,a.searchChar="fail"})}}]),angular.module("app.services",[]).factory("MarvelAPI",["$http","$q",function(a,b){var c="http://gateway.marvel.com/v1/public/",d="e6603fe76c64a455dd284bd07f0e44b3",e=10,f=function(f){var g=b.defer(),h=c+"characters?limit="+e+"&nameStartsWith="+f+"&apikey="+d;return a.get(h).success(function(a){a.data.results.length>0?g.resolve({characters:a.data.results}):g.reject({message:"Unable to find that character"})}).error(function(){g.reject({message:"API error"})}),g.promise};return{getChar:f}}]).factory("_",[function(){return window._}]);